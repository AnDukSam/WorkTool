<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ë¼ì§€ ë°œì£¼</title>
    <style>
        * { box-sizing: border-box; }
        body { padding: 0 15px 120px 15px; margin: 0; font-family: 'Malgun Gothic', sans-serif; background-color: #f5f5f5; }
        
        .main-title { text-align: center; padding: 20px 0; margin: 0 -15px 20px -15px; background: linear-gradient(135deg, #4CAF50, #2E7D32); color: white; font-size: 20px; font-weight: bold; box-shadow: 0 2px 10px rgba(0,0,0,0.1); letter-spacing: 1px; }
        
        /* ì§€ì  ì„ íƒ ì˜ì—­ (ì—¬ë°± ê¸°ì¤€ì ) */
        .header-setting { display: flex; align-items: center; justify-content: space-between; background: #fff; padding: 15px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .header-setting label { font-weight: bold; font-size: 15px; color: #333; }
        .header-setting select { padding: 8px 12px; border-radius: 8px; border: 1px solid #ddd; font-size: 15px; outline: none; background: #f9f9f9; cursor: pointer; min-width: 120px; }

        /* í’ˆëª© ë¦¬ìŠ¤íŠ¸ ì¹´ë“œ - ì˜¤ë¥¸ìª½ ì—¬ë°±ì„ header-settingê³¼ ë™ì¼í•˜ê²Œ 15pxë¡œ ë§ì¶¤ */
        .tray { display: flex; flex-direction: column; gap: 10px; }
        .item-row { 
            background-color: white; 
            padding: 12px 15px; /* ì˜¤ë¥¸ìª½ íŒ¨ë”©ì„ header-settingì˜ 15pxì™€ ë™ì¼í•˜ê²Œ ì„¤ì • */
            border-radius: 12px; 
            box-shadow: 0 2px 8px rgba(0,0,0,0.06); 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
        }
        .left-panel-item { font-weight: bold; color: #333; font-size: 15px; flex: 1; }

        /* ìˆ˜ëŸ‰ ì»¨íŠ¸ë¡¤ ë° ë‹¨ìœ„ í‘œì‹œ */
        .right-controls { display: flex; align-items: center; gap: 6px; }
        .right-controls button { width: 38px; height: 38px; background-color: #eee; border: 1px solid #ddd; border-radius: 8px; font-size: 20px; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .right-controls button:active { background-color: #ddd; }
        .number-display { width: 45px; height: 38px; text-align: center; border: 1px solid #ddd; border-radius: 8px; font-size: 16px; background: #f9f9f9; font-weight: bold; }
        
        /* ë‹¨ìœ„ í‘œì‹œ ì˜ì—­ ì—¬ë°± ì¡°ì • */
        .suffix-display { font-size: 13px; color: #666; width: 35px; text-align: right; margin-left: 2px; }

        #resultArea { margin-top: 25px; padding: 15px; background-color: #fff; border: 2px dashed #4CAF50; border-radius: 10px; font-size: 14px; display: none; line-height: 1.6; white-space: pre-wrap; color: #333; }
        
        #action-buttons { position: fixed; bottom: 0; left: 0; right: 0; background: white; display: flex; padding: 15px; gap: 10px; box-shadow: 0 -2px 10px rgba(0,0,0,0.1); z-index: 100; }
        .action-btn { flex: 1; height: 55px; border: none; border-radius: 10px; font-weight: bold; font-size: 16px; color: white; cursor: pointer; }
        
        #extractBtn { background: linear-gradient(135deg, #2196F3, #1976D2); }
        #copyBtn { background: #333; display: none; }
    </style>
</head>
<body>

    <div class="main-title">ë¼ì§€ ë°œì£¼</div>

    <div class="header-setting">
        <label>ë°œì£¼ ì§€ì  ì„ íƒ</label>
        <select id="branchSelect">
            <option value="2í˜¸ì ">2í˜¸ì </option>
            <option value="ë§Œì´Œì " selected>ë§Œì´Œì </option>
            <option value="ì‹œì§€ì ">ì‹œì§€ì </option>
            <option value="ì˜¨ì²œì ">ì˜¨ì²œì </option>
            <option value="í˜ì‹ ì ">í˜ì‹ ì </option>
        </select>
    </div>

    <div class="tray" id="itemTray"></div>

    <div id="resultArea"></div>

    <div id="action-buttons">
        <button class="action-btn" id="extractBtn">í…ìŠ¤íŠ¸ ì¶”ì¶œ</button>
        <button class="action-btn" id="copyBtn">ğŸ“‹ í…ìŠ¤íŠ¸ ë³µì‚¬</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const itemTray = document.getElementById('itemTray');
            const extractBtn = document.getElementById('extractBtn');
            const copyBtn = document.getElementById('copyBtn');
            const resultArea = document.getElementById('resultArea');
            const branchSelect = document.getElementById('branchSelect');

            // í’ˆëª© ë¦¬ìŠ¤íŠ¸ (ì‚¼ê²¹ì‚´(ìˆ˜ìœ¡ìš©) ì¶”ê°€ ë° ìˆœì„œ ì¡°ì •)
            const items = [
                { name: 'ì‚¼ê²¹ì‚´', unit: 'ë°•ìŠ¤' },
                { name: 'ì‚¼ê²¹ì‚´(ìˆ˜ìœ¡ìš©)', unit: 'ë°•ìŠ¤' }, // ì‚¼ê²¹ì‚´ ì•„ë˜ ì¶”ê°€
                { name: 'ëª©ì‚´', unit: 'ë°•ìŠ¤' },
                { name: 'ì•ë‹¤ë¦¬ì‚´(ëƒ‰ì¥)', unit: 'ë°•ìŠ¤' }, { name: 'ì•ë‹¤ë¦¬ì‚´(ëƒ‰ë™)', unit: 'ë°•ìŠ¤' },
                { name: 'ì‚¬íƒœ', unit: 'ë²Œ' }, { name: 'ì•ˆì‹¬', unit: 'kg' },
                { name: 'ë“±ì‹¬', unit: 'ì¤„' }, { name: 'ê°ˆë¹„', unit: 'ë°•ìŠ¤' },
                { name: 'ë“±ê°ˆë¹„', unit: 'ì¤„' }, { name: 'í•­ì •ì‚´', unit: 'kg' },
                { name: 'ê°€ë¸Œë¦¬ì‚´', unit: 'kg' }, { name: 'ë“±ë¼ˆ', unit: 'ë°•ìŠ¤' },
                { name: 'ë’·ë‹¤ë¦¬ì‚´(ëƒ‰ì¥)', unit: 'ë°•ìŠ¤' }, { name: 'ë’·ë‹¤ë¦¬ì‚´(ëƒ‰ë™)', unit: 'ë°•ìŠ¤' },
                { name: 'Bëª©ì‚´', unit: 'ë°•ìŠ¤' }
            ];

            items.forEach(item => {
                const row = document.createElement('div');
                row.className = 'item-row';
                row.innerHTML = `
                    <div class="left-panel-item">${item.name}</div>
                    <div class="right-controls">
                        <button class="minus-btn">-</button>
                        <input type="text" class="number-display" value="0" readonly>
                        <button class="plus-btn">+</button>
                        <span class="suffix-display">${item.unit}</span>
                    </div>
                `;
                
                const minusBtn = row.querySelector('.minus-btn');
                const plusBtn = row.querySelector('.plus-btn');
                const display = row.querySelector('.number-display');

                minusBtn.onclick = () => {
                    let val = parseInt(display.value);
                    if (val > 0) display.value = val - 1;
                };
                plusBtn.onclick = () => {
                    display.value = parseInt(display.value) + 1;
                };
                itemTray.appendChild(row);
            });

            extractBtn.onclick = () => {
                const branch = branchSelect.value;
                let resultText = `ìš°ë¦¬ì¶•ì‚° ${branch}ì…ë‹ˆë‹¤.\n\n`;
                let hasItem = false;
                let count = 1;

                const rows = document.querySelectorAll('.item-row');
                rows.forEach(row => {
                    const name = row.querySelector('.left-panel-item').textContent;
                    const val = parseInt(row.querySelector('.number-display').value);
                    const unit = row.querySelector('.suffix-display').textContent;

                    if (val > 0) {
                        resultText += `${count++}) ${name}: ${val}${unit}\n`;
                        hasItem = true;
                    }
                });

                if (!hasItem) {
                    alert("ë°œì£¼í•  ìˆ˜ëŸ‰ì„ ë¨¼ì € ì…ë ¥í•´ì£¼ì„¸ìš”.");
                    return;
                }

                resultArea.innerText = resultText.trim();
                resultArea.style.display = "block";
                copyBtn.style.display = "block";
                window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
            };

            copyBtn.onclick = () => {
                const textToCopy = resultArea.innerText;
                if (navigator.clipboard && window.isSecureContext) {
                    navigator.clipboard.writeText(textToCopy).then(() => {
                        alert("ë³µì‚¬ ì™„ë£Œ!");
                    }).catch(() => fallbackCopy(textToCopy));
                } else {
                    fallbackCopy(textToCopy);
                }
            };

            function fallbackCopy(text) {
                const textArea = document.createElement("textarea");
                textArea.value = text;
                textArea.style.position = "fixed";
                textArea.style.left = "-9999px";
                textArea.style.top = "0";
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                try {
                    document.execCommand('copy');
                    alert("ë³µì‚¬ ì™„ë£Œ!");
                } catch (err) {
                    alert("ë³µì‚¬ ì‹¤íŒ¨.");
                }
                document.body.removeChild(textArea);
            }
        });
    </script>
</body>
</html>
